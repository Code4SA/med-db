{% macro render_date_range(start_date, end_date) -%}
    {% if start_date | format_date == end_date | format_date %}
        <nobr>{{ start_date | format_date }}</nobr>
    {% else %}
        <nobr>{{ start_date | format_date }}</nobr> to <nobr>{{ end_date | format_date }}</nobr>
    {% endif %}
{%- endmacro %}

{% macro render_country(country) -%}
    {%- if country.name -%}
        {{ country.name }}
    {%- else -%}
        N/A
    {%- endif -%}
{%- endmacro %}

{% macro render_medicine(medicine) -%}
    <strong>
        {% for ingredient in medicine.ingredients %}
            {% if loop.index > 1 %} + {% endif %}
            {{ ingredient.inn }}
        {% endfor %}
    </strong>
{%- endmacro %}

{% macro render_medicine_strength(medicine) -%}
    {% for ingredient in medicine.ingredients %}
        {% if loop.index > 1 %} + {% endif %}
        {{ ingredient.strength }}
    {% endfor %}
{%- endmacro %}

{% macro render_product(product) -%}
    <strong>
        {% if product.name %}
            {{ product.name }}
        {% else %}
            Generic
        {% endif %}
    </strong>
{%- endmacro %}

{% macro render_supplier(supplier) -%}
    <strong>{{ supplier.name }}</strong>
{%- endmacro %}

{% macro render_pack_size(pack_size) -%}
    {{ pack_size.quantity | round | int }} {{ pack_size.unit }} {{ pack_size.type }}
{%- endmacro %}

{% macro render_url(url) -%}
    <a href="{{ url }}" target="_blank">{{ url }}</a>
{%- endmacro %}